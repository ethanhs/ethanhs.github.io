<!DOCTYPE html>
<html lang="en">

<head>
    <title>Ethan Typing</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://ethanhs.me/style.css">
    <link rel="stylesheet" href="https://ethanhs.me/color/blue.css">

        <link rel="stylesheet" href="https://ethanhs.me/color/background_dark.css">
    
    <link rel="stylesheet" href="https://ethanhs.me/font-hack-subset.css">

    <link rel="me" href="https://hachyderm.io/@ethantyping">
</head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://ethanhs.me" style="text-decoration: none;">
                    <div class="logo">
                      
                            Ethan&#x27;s Blog
                        
                    </div>
                </a>
            </div>
        </div>

        
        
                <nav class="menu">
            <ul class="menu__inner">
                <li class="active"><a href="https://ethanhs.me">Home</a></li>
            
                <li><a href="https://ethanhs.me/about/me">About</a></li>
            
                <li><a href="https://ethanhs.me/about/contact">Contact</a></li>
            
                <li><a href="https://github.com/ethanhs" target="_blank" rel="noopener noreferrer">Github</a></li>
            
                <li><a href="https://hachyderm.io/@ethantyping" target="_blank" rel="noopener noreferrer">Mastodon</a></li>
            </ul>
        </nav>
    
    
        
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://ethanhs.me/rust-tools-apt/">Rust CLI tools apt repo</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-11-26
        </span>

    </div>

    

        
        <div class="post-content">
            <blockquote>
<p>tl;dr
Go to <a href="http://apt.cli.rs">http://apt.cli.rs</a> and follow the instructions to add the apt repo</p>
</blockquote>
<p>I guess its only fair to start my new blogging kick by catching up on a project I'd worked on several months ago which is pretty much &quot;done.&quot; I really like several Rust tools, such as <a href="https://github.com/BurntSushi/ripgrep"><code>ripgrep</code></a>, <a href="https://github.com/sharkdp/hyperfine"><code>hyperfine</code></a>, and <a href="https://github.com/sharkdp/fd"><code>fd</code></a>. I wanted an easy way to install them on Debian-based systems that may not have them in the official repos, so I needed to create my own apt repo. I was originally considering making a ppa, or private package archive, since I mainly use Ubuntu, but I decided I wanted these tools available on Debian as well, so my only option was an apt repo.</p>
<p>It turns out that apt repos are really simple, you just need to serve a directory with e.g. nginx. It took me a while to find a tool I liked using for making the apt repo, however. I started with trying <code>reprepro</code>, but I found it was more annoying to use than I wanted, so I ended up using <a href="https://www.aptly.info/"><code>aptly</code></a>, a newer apt repo management tool.</p>
<p>When setting up the repo, my criteria for inclusion were:</p>
<ul>
<li>the tool must be able to build <code>*.deb</code> packages. This is the package format for Debian/Ubuntu so definitely required</li>
<li>the tool must build those packages. I wanted to use the official/same binaries as those in the Github release</li>
<li>the binary packages must be statically musl-linked. Since various versions of Debian/Ubuntu use different versions of glibc, you can get version compatibility errors if you don't statically link. Statically linking to musl is <em>much</em> easier than glibc, so this seemed to be the best route to avoid compatibility errors.</li>
</ul>
<p>With these criteria in hand, I then set up the apt repo with the CLI tools that fit and wrote a script to try updating all of the packages, pulling from the official Github releases. I have subscribed to releases on Github from all the repos that are currently included in the apt repo so all I have to do is run the script when a new release comes out from one of the repos. I may end up setting up a cronjob that runs this update script, but I'm weighing whether it is worth any potential risks...</p>
<p>Anyway, if you are interested in using this apt repo, head on over to <a href="http://apt.cli.rs">https://apt.cli.rs</a>, I've written up the commands you need to get started using the apt repo.</p>
<p>If you have suggestions for Rust CLI tools that should be included, please <a href="https://github.com/ethanhs/apt.cli.rs/issues/new">open an issue on the github</a>! If a package doesn't build musl-linked Debian packages, consider opening an issue on that project to add it. However, please <em>do not</em> spam maintainers asking for these packages to be built. I unfortunately do not have time to contribute to the packaging of every great Rust CLI tool, but I can add them to the apt repo if they are packaged already!</p>
<p>Anyway, hopefully someone else finds it useful!</p>

        </div>

        
        <div class="pagination">
            <div class="pagination__title">
                <span class="pagination__title-h">Thanks for reading! Read other posts?</span>
                <hr />
            </div>
            <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://ethanhs.me/restart-again/">
                            <span class="button__icon">←</span>&nbsp;
                            <span class="button__text">Revamping my blog</span>
                        </a>
                    </span>
                
                
                    <span class="button next">
                        <a href="https://ethanhs.me/concurrent-sqlite/">
                            <span class="button__text">Using multiprocessing and sqlite3 together</span>&nbsp;
                            <span class="button__icon">→</span>
                        </a>
                    </span>
                </div>
        </div>
    
    </div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2024
 Ethan Smith</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
